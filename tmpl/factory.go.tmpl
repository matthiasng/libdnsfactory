// Code generated by go run ./generate/main.go; DO NOT EDIT.

package libdnsfactory

import (
	"fmt"

{{- range .Providers }}
    "github.com/libdns/{{ .Name }}"
{{- end }}
)

// NewProvider creates a new Provider. See https://github.com/matthiasng/libdnsfactory/blob/master/docs.md for a complete list of supported providers.
func NewProvider(name string, config map[string]string) (Provider, error) {
	switch name {
{{- range $p := .Providers }}
        case "{{ $p.Name }}":
            var err error
            p := &{{ $p.Name }}.Provider{}
            
{{- range .Variables }}
            p.{{ .Name }}, err = getValue{{ .Type | FirstToUpper }}("{{ .Name }}", {{ .Required }}, config)
            if err != nil {
                return nil, fmt.Errorf("{{ $p.Name }} [{{ .Name }}]: %w", err)
            }
{{- end }}

            return p, nil 
{{- end }}
	default:
		return nil, fmt.Errorf("Unknown provider: %s", name)
	}
}
